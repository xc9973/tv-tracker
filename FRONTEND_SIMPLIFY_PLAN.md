# 前端精简改造计划

## 目标
精简前端界面，去除图片渲染，只保留核心功能的关键信息展示。

## 核心功能需求

### 1. 今日更新页面 (Today) - 已基本满足
**功能：** 查看当天的更新剧集
**当前状态：** ✅ 已实现，样式简洁
**需要调整：** 
- 保持当前极简设计
- 确保显示：剧名、集数(S01E01)、剧集标题、资源时间

### 2. 任务管理页面 (Dashboard) - 需要精简
**功能：** 
- 查看未完成的任务
- 将当天未完成的任务推迟到明天
- 标记任务完成

**当前状态：** ⚠️ 功能较多，需精简
**需要调整：**
- 移除"发送日报"功能
- 移除"同步更新"功能（或移到后台）
- 简化界面，只显示任务列表
- 添加"推迟到明天"按钮
- 保留"标记完成"按钮

### 3. 剧集库页面 (Library) - 需要大幅精简
**功能：**
- 查看所有订阅的剧集
- 编辑剧集的资源更新时间

**当前状态：** ⚠️ 有海报图片，需移除
**需要调整：**
- 移除所有图片/海报显示
- 改为简单列表展示
- 只显示：剧名、状态、季数、资源时间
- 保留编辑资源时间功能
- 简化状态标签

### 4. 搜索订阅页面 (Search) - 需要大幅精简
**功能：** 搜索并订阅新剧集

**当前状态：** ⚠️ 有海报图片，需移除
**需要调整：**
- 移除海报图片显示
- 改为简单列表展示
- 只显示：剧名、首播日期、地区
- 保留搜索和订阅功能

## 详细改造任务清单

### Phase 1: 移除图片相关代码
- [ ] 1.1 Search页面：移除海报显示相关代码
- [ ] 1.2 Search.css：移除`.show-poster`等样式
- [ ] 1.3 api.ts：保留`TMDB_IMAGE_BASE`（后端可能用）但前端不使用

### Phase 2: 精简Dashboard页面
- [ ] 2.1 移除"发送日报"按钮和相关函数
- [ ] 2.2 移除"同步更新"按钮（可选）
- [ ] 2.3 添加"推迟到明天"功能
  - [ ] 2.3.1 后端API：POST /tasks/{id}/postpone
  - [ ] 2.3.2 前端api.ts添加`postponeTask`函数
  - [ ] 2.3.3 Dashboard.tsx添加推迟按钮和处理函数
- [ ] 2.4 简化任务卡片样式，使用更紧凑的布局

### Phase 3: 精简Library页面
- [ ] 3.1 改为表格或简单列表布局
- [ ] 3.2 移除grid布局
- [ ] 3.3 简化状态标签样式
- [ ] 3.4 保留内联编辑资源时间功能
- [ ] 3.5 优化移动端显示

### Phase 4: 精简Search页面
- [ ] 4.1 移除海报相关DOM结构
- [ ] 4.2 改为表格或简单列表布局
- [ ] 4.3 简化搜索结果展示
- [ ] 4.4 优化订阅按钮位置

### Phase 5: 样式优化
- [ ] 5.1 统一简化所有页面的视觉风格
- [ ] 5.2 优化配色，使用更简洁的黑白灰配色
- [ ] 5.3 确保移动端响应式良好
- [ ] 5.4 移除不必要的动画和过渡效果

### Phase 6: 代码清理
- [ ] 6.1 移除未使用的CSS类
- [ ] 6.2 移除未使用的依赖
- [ ] 6.3 统一命名规范
- [ ] 6.4 添加必要的注释

## 最终页面结构

### 导航栏
```
📺 TV Tracker | 今日更新 | 任务管理 | 搜索订阅 | 剧集库
```

### 今日更新页面（保持不变）
```
📺 今日更新  2026-01-08 周三 · 5条  [刷新]

• 剧集A · S01E01 · Episode Title [22:00]
• 剧集B · S02E03 · Another Episode [23:00]
...
```

### 任务管理页面（精简后）
```
任务管理  未完成：3条  [刷新]

今日更新任务
• [22:00] 剧集A - 第1季第1集  [完成] [推迟]
• [23:00] 剧集B - 第2季第3集  [完成] [推迟]
```

### 搜索订阅页面（精简后）
```
搜索剧集
[输入框] [🔍 搜索]

搜索结果：
• 剧集名称A - 首播：2024-01-01 - 地区：US [+ 订阅]
• 剧集名称B - 首播：2024-02-15 - 地区：UK [+ 订阅]
```

### 剧集库页面（精简后）
```
我的片库 (12)

剧名              状态    季数  资源时间            操作
-----------------------------------------------------------
剧集A            连载中   2    2024-01-01 22:00   [编辑]
剧集B            已完结   5    2024-01-01 23:00   [编辑]
...
```

## API需求补充

需要后端新增的API：
1. `POST /tasks/{id}/postpone` - 推迟任务到明天

## 预期成果

1. **极简界面**：去除所有图片，使用纯文本和简单布局
2. **快速加载**：减少资源请求，提升加载速度
3. **核心功能**：保留所有核心功能，提升易用性
4. **移动友好**：响应式设计，适配移动设备
5. **代码精简**：减少代码量，提升可维护性

## 风险评估

- **低风险**：移除图片不影响核心功能
- **中风险**：需要后端配合添加"推迟任务"API
- **低风险**：样式改造工作量适中

## 时间估算

- Phase 1-4: 2-3小时（前端改造）
- Phase 5: 1小时（样式优化）
- Phase 6: 0.5小时（代码清理）
- 后端API开发: 0.5小时
- 测试: 1小时

**总计**: 约5-6小时
