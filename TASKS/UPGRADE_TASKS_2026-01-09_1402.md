# Upgrade Tasks (2026-01-09 14:02)

## Goal
Persist TMDB TV details in the database as a manual-refresh cache, reduce TMDB calls, and add a single-show refresh API.

## Task List
- [ ] Add tmdb_cache table + repository
- [ ] Add TMDB cache service (get cached / refresh / get-or-fetch)
- [ ] Update subscription flow to use cache by default
- [ ] Update task generator to read cache only, and add single-show sync helper
- [ ] Add API endpoint: POST /api/tv/:id/refresh
- [ ] Update docs to mention refresh endpoint
- [ ] Update tests for new constructors and behavior

## Acceptance Criteria
- Subscriptions store TMDB details in tmdb_cache on first fetch.
- Regular sync uses cached TMDB details and does not call TMDB.
- Manual refresh triggers TMDB fetch, updates cache, and updates show/tasks/episodes.
- API refresh endpoint returns updated data and handles errors clearly.
