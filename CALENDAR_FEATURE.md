# 追更日历功能开发计划

## 目标
实现一周追更日历,展示本周剧集更新,支持编辑资源时间和集数

## 任务清单

### 1. 后端API开发
- [ ] 1.1 添加 `/api/week` 接口,返回本周7天的剧集数据
- [ ] 1.2 接口返回格式: 按日期分组的剧集列表
- [ ] 1.3 支持编辑剧集的下一集信息

### 2. 前端日历实现
- [ ] 2.1 实现 `loadCalendar()` 函数加载本周数据
- [ ] 2.2 渲染7列日历视图(周一到周日)
- [ ] 2.3 高亮显示今天
- [ ] 2.4 显示每天的剧集更新列表

### 3. 编辑功能
- [ ] 3.1 创建编辑弹窗HTML
- [ ] 3.2 实现点击剧集弹出编辑框
- [ ] 3.3 支持编辑资源时间
- [ ] 3.4 支持编辑当前集数
- [ ] 3.5 保存修改并刷新日历

### 4. 测试
- [ ] 4.1 测试日历加载
- [ ] 4.2 测试编辑功能
- [ ] 4.3 测试数据刷新
- [ ] 4.4 提交代码

## 实现细节

### API设计
```
GET /api/week
Response: {
  "days": {
    "2026-01-06": [
      {
        "show_id": 1,
        "show_name": "剧集名",
        "episode": {...},
        "resource_time": "20:00"
      }
    ],
    ...
  }
}
```

### 前端结构
- 7列网格布局
- 每列显示一天
- 每天包含多个剧集卡片
- 点击卡片弹出编辑框
